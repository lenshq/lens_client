require 'tty'
require 'json'
require_relative 'lib/lens/gzip_util'
require_relative 'lib/lens/compression'

datasets = [
%({     "records": [      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"users\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 2.566142,        "estart": 1437835548.728163,        "efinish": 1437835548.73073      },      {        "sql": "SELECT  \\"users\\".* FROM \\"users\\"  WHERE \\"users\\".\\"remember_token\\" = '4ab4750697fef28ed0cf44f0415869aae215d390' LIMIT 1",        "name": "User Load",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 1.60729,        "estart": 1437835548.736598,        "efinish": 1437835548.738206      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"channels\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 1.058167,        "estart": 1437835548.782015,        "efinish": 1437835548.783073      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'channels'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.362193,        "estart": 1437835548.784225,        "efinish": 1437835548.784587      },      {        "sql": "          SELECT attr.attname\\n          FROM pg_attribute attr\\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n          WHERE cons.contype = 'p'\\n            AND cons.conrelid = '\\"channels\\"'::regclass\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.332216,        "estart": 1437835548.784956,        "efinish": 1437835548.785288      },      {        "sql": "SHOW client_min_messages",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.156007,        "estart": 1437835548.792036,        "efinish": 1437835548.792192      },      {        "sql": "SET client_min_messages TO 'panic'",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.058432,        "estart": 1437835548.79266,        "efinish": 1437835548.792718      },      {        "sql": "SET standard_conforming_strings = on",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.06289299999999999,        "estart": 1437835548.793049,        "efinish": 1437835548.793112      },      {        "sql": "SET client_min_messages TO 'notice'",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.048219,        "estart": 1437835548.793418,        "efinish": 1437835548.793466      },      {        "sql": "SET time zone 'UTC'",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.6422220000000001,        "estart": 1437835548.79411,        "efinish": 1437835548.794752      },      {        "sql": "SHOW TIME ZONE",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.070231,        "estart": 1437835548.795119,        "efinish": 1437835548.79519      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'channels'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 1.310924,        "estart": 1437835548.796052,        "efinish": 1437835548.797362      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"channels\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 1.707077,        "estart": 1437835548.797842,        "efinish": 1437835548.799549      },      {        "sql": "SELECT  \\"channels\\".* FROM \\"channels\\"  WHERE \\"channels\\".\\"id\\" IS NULL LIMIT 1",        "name": "Channel Load",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 1.074117,        "estart": 1437835548.800841,        "efinish": 1437835548.801915      },      {        "sql": "SELECT  \\"channels\\".* FROM \\"channels\\"  WHERE \\"channels\\".\\"user_id\\" = 1 ORDER BY created_at ASC LIMIT 1",        "name": "Channel Load",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 1.971133,        "estart": 1437835548.815623,        "efinish": 1437835548.817594      },      {        "sql": "SELECT  \\"channels\\".* FROM \\"channels\\"  WHERE \\"channels\\".\\"user_id\\" = 1 AND \\"channels\\".\\"being_deleted\\" = 'f' AND \\"channels\\".\\"default_channel\\" = 't' ORDER BY created_at ASC LIMIT 1",        "name": "Channel Load",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 2.922178,        "estart": 1437835548.871173,        "efinish": 1437835548.874095      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'user_sessions_histories'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.619565,        "estart": 1437835548.901213,        "efinish": 1437835548.901832      },      {        "sql": "          SELECT attr.attname\\n          FROM pg_attribute attr\\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n          WHERE cons.contype = 'p'\\n            AND cons.conrelid = '\\"user_sessions_histories\\"'::regclass\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.355716,        "estart": 1437835548.902292,        "efinish": 1437835548.902647      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"user_sessions_histories\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.25217,        "estart": 1437835548.903135,        "efinish": 1437835548.903387      },      {        "sql": "SELECT  1 AS one FROM \\"user_sessions_histories\\"  WHERE \\"user_sessions_histories\\".\\"user_id\\" = 1 LIMIT 1",        "name": "User::SessionsHistory Exists",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.9153819999999999,        "estart": 1437835548.905671,        "efinish": 1437835548.906587      },      {        "sql": "UPDATE \\"user_sessions_histories\\" SET sessions = array_append(sessions, '2015-07-25 14:45:48') WHERE \\"user_sessions_histories\\".\\"user_id\\" = 1",        "name": "SQL",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 18.533923,        "estart": 1437835548.911733,        "efinish": 1437835548.930267      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"raw_videos\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.914807,        "estart": 1437835549.330693,        "efinish": 1437835549.331608      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"oauth_applications\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 1.403179,        "estart": 1437835549.818359,        "efinish": 1437835549.819762      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'oauth_applications'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.436636,        "estart": 1437835549.821244,        "efinish": 1437835549.821681      },      {        "sql": "          SELECT attr.attname\\n          FROM pg_attribute attr\\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n          WHERE cons.contype = 'p'\\n            AND cons.conrelid = '\\"oauth_applications\\"'::regclass\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.360741,        "estart": 1437835549.82223,        "efinish": 1437835549.822591      },      {        "sql": "SELECT  1 AS one FROM \\"channels\\"  WHERE \\"channels\\".\\"user_id\\" = 1 AND \\"channels\\".\\"is_promo_account\\" = 't' LIMIT 1",        "name": "Channel Exists",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.43171,        "estart": 1437835549.828891,        "efinish": 1437835549.829322      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"coubs\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 3.806246,        "estart": 1437835549.893389,        "efinish": 1437835549.897196      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'coubs'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.42062,        "estart": 1437835549.899127,        "efinish": 1437835549.899548      },      {        "sql": "          SELECT attr.attname\\n          FROM pg_attribute attr\\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n          WHERE cons.contype = 'p'\\n            AND cons.conrelid = '\\"coubs\\"'::regclass\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 0.351315,        "estart": 1437835549.900019,        "efinish": 1437835549.900371      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"coubs\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 27250300,        "binds": [                  ],        "connection_name": null,        "etype": "sql.active_record",        "eduration": 3.729218,        "estart": 1437835549.947722,        "efinish": 1437835549.951452      },      {        "sql": "SHOW max_identifier_length",        "name": null,        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.320867,        "estart": 1437835549.975514,        "efinish": 1437835549.975835      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'coubs'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.502437,        "estart": 1437835549.977184,        "efinish": 1437835549.977686      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"coubs\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 2.412214,        "estart": 1437835549.978165,        "efinish": 1437835549.980577      },      {        "sql": "SELECT COUNT(*) AS count_all, date_trunc('day', coubs.created_at) AS date_trunc_day_coubs_created_at FROM \\"coubs\\"  WHERE \\"coubs\\".\\"type\\" IN ('Coub::Simple') AND (coubs.created_at > '2015-06-25 00:00:00.000000' AND coubs.created_at < '2015-07-25 23:59:59.999999') GROUP BY date_trunc('day', coubs.created_at) ORDER BY date_trunc('day', coubs.created_at)",        "name": null,        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 1.457748,        "estart": 1437835549.982759,        "efinish": 1437835549.984217      },      {        "sql": "SELECT COUNT(*) AS count_all, date_trunc('day', coubs.created_at) AS date_trunc_day_coubs_created_at FROM \\"coubs\\"  WHERE \\"coubs\\".\\"type\\" IN ('Coub::Simple') AND \\"coubs\\".\\"uploaded_by_android_app\\" = 't' AND (coubs.created_at > '2015-06-25 00:00:00.000000' AND coubs.created_at < '2015-07-25 23:59:59.999999') GROUP BY date_trunc('day', coubs.created_at) ORDER BY date_trunc('day', coubs.created_at)",        "name": null,        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.545913,        "estart": 1437835549.986009,        "efinish": 1437835549.986554      },      {        "sql": "SELECT COUNT(*) AS count_all, date_trunc('day', coubs.created_at) AS date_trunc_day_coubs_created_at FROM \\"coubs\\"  WHERE \\"coubs\\".\\"type\\" IN ('Coub::Simple') AND \\"coubs\\".\\"uploaded_by_ios_app\\" = 't' AND (coubs.created_at > '2015-06-25 00:00:00.000000' AND coubs.created_at < '2015-07-25 23:59:59.999999') GROUP BY date_trunc('day', coubs.created_at) ORDER BY date_trunc('day', coubs.created_at)",        "name": null,        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.490086,        "estart": 1437835549.98813,        "efinish": 1437835549.98862      },      {        "sql": "SELECT COUNT(*) AS count_all, date_trunc('day', coubs.created_at) AS date_trunc_day_coubs_created_at FROM \\"coubs\\"  WHERE \\"coubs\\".\\"type\\" IN ('Coub::Simple') AND \\"coubs\\".\\"uploaded_by_web_editor\\" = 't' AND (coubs.created_at > '2015-06-25 00:00:00.000000' AND coubs.created_at < '2015-07-25 23:59:59.999999') GROUP BY date_trunc('day', coubs.created_at) ORDER BY date_trunc('day', coubs.created_at)",        "name": null,        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.443806,        "estart": 1437835549.990139,        "efinish": 1437835549.990583      },      {        "sql": "SELECT \\"channels\\".* FROM \\"channels\\"  WHERE \\"channels\\".\\"user_id\\" = 1 AND \\"channels\\".\\"being_deleted\\" = 'f' ORDER BY channels.last_posted_to DESC NULLS LAST",        "name": "Channel Load",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.613357,        "estart": 1437835549.999363,        "efinish": 1437835549.999976      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"backgrounds\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.501598,        "estart": 1437835550.00702,        "efinish": 1437835550.007521      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'backgrounds'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.35942,        "estart": 1437835550.008344,        "efinish": 1437835550.008704      },      {        "sql": "          SELECT attr.attname\\n          FROM pg_attribute attr\\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n          WHERE cons.contype = 'p'\\n            AND cons.conrelid = '\\"backgrounds\\"'::regclass\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.555432,        "estart": 1437835550.009208,        "efinish": 1437835550.009763      },      {        "sql": "SELECT \\"backgrounds\\".* FROM \\"backgrounds\\"  WHERE \\"backgrounds\\".\\"channel_id\\" IN (1) ORDER BY backgrounds.created_at DESC",        "name": "Background Load",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.34265,        "estart": 1437835550.010813,        "efinish": 1437835550.011155      },      {        "sql": "            SELECT a.attname, format_type(a.atttypid, a.atttypmod),\\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\\n             WHERE a.attrelid = '\\"authentications\\"'::regclass\\n               AND a.attnum > 0 AND NOT a.attisdropped\\n             ORDER BY a.attnum\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.742708,        "estart": 1437835550.041909,        "efinish": 1437835550.042652      },      {        "sql": "            SELECT COUNT(*)\\n            FROM pg_class c\\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\\n            WHERE c.relkind in ('v','r')\\n            AND c.relname = 'authentications'\\n            AND n.nspname = ANY (current_schemas(false))\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.3838220000000001,        "estart": 1437835550.043439,        "efinish": 1437835550.043823      },      {        "sql": "          SELECT attr.attname\\n          FROM pg_attribute attr\\n          INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\\n          WHERE cons.contype = 'p'\\n            AND cons.conrelid = '\\"authentications\\"'::regclass\\n",        "name": "SCHEMA",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.354491,        "estart": 1437835550.044302,        "efinish": 1437835550.044656      },      {        "sql": "SELECT \\"authentications\\".* FROM \\"authentications\\"  WHERE \\"authentications\\".\\"channel_id\\" IN (1)",        "name": "Authentication Load",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.485939,        "estart": 1437835550.045615,        "efinish": 1437835550.046101      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 1.234532,        "estart": 1437835550.090498,        "efinish": 1437835550.091733      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 1.283189,        "estart": 1437835550.09049,        "efinish": 1437835550.091773      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.122758,        "estart": 1437835550.093079,        "efinish": 1437835550.093202      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.14797,        "estart": 1437835550.093071,        "efinish": 1437835550.093219      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.121616,        "estart": 1437835550.094302,        "efinish": 1437835550.094423      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.148259,        "estart": 1437835550.094294,        "efinish": 1437835550.094443      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 1.645702,        "estart": 1437835550.09551,        "efinish": 1437835550.097156      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 1.675574,        "estart": 1437835550.095503,        "efinish": 1437835550.097179      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.136379,        "estart": 1437835550.098359,        "efinish": 1437835550.098496      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.167543,        "estart": 1437835550.09835,        "efinish": 1437835550.098518      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.131113,        "estart": 1437835550.099617,        "efinish": 1437835550.099748      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.167072,        "estart": 1437835550.099603,        "efinish": 1437835550.09977      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.123864,        "estart": 1437835550.100842,        "efinish": 1437835550.100965      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.150028,        "estart": 1437835550.100833,        "efinish": 1437835550.100983      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 1.246867,        "estart": 1437835550.103933,        "efinish": 1437835550.10518      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 1.279277,        "estart": 1437835550.103925,        "efinish": 1437835550.105204      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.277983,        "estart": 1437835550.106377,        "efinish": 1437835550.106656      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.309089,        "estart": 1437835550.106369,        "efinish": 1437835550.106678      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.130513,        "estart": 1437835550.107801,        "efinish": 1437835550.107932      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.156467,        "estart": 1437835550.107793,        "efinish": 1437835550.10795      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.132453,        "estart": 1437835550.108996,        "efinish": 1437835550.109128      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.158305,        "estart": 1437835550.108988,        "efinish": 1437835550.109146      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.132524,        "estart": 1437835550.110249,        "efinish": 1437835550.110381      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.160371,        "estart": 1437835550.11024,        "efinish": 1437835550.110401      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.13026,        "estart": 1437835550.11157,        "efinish": 1437835550.1117      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.158778,        "estart": 1437835550.111562,        "efinish": 1437835550.111721      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.134738,        "estart": 1437835550.112908,        "efinish": 1437835550.113043      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.162639,        "estart": 1437835550.1129,        "efinish": 1437835550.113062      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.115118,        "estart": 1437835550.114181,        "efinish": 1437835550.114296      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.141979,        "estart": 1437835550.114171,        "efinish": 1437835550.114313      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.122852,        "estart": 1437835550.115363,        "efinish": 1437835550.115486      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.149117,        "estart": 1437835550.115355,        "efinish": 1437835550.115504      },      {        "virtual_path": "editor/coubs/_sliding_doors_menu_item",        "etype": "!render_template.action_view",        "eduration": 0.120564,        "estart": 1437835550.116535,        "efinish": 1437835550.116656      },      {        "identifier": "/home/dev/apps/coub/current/app/views/editor/coubs/_sliding_doors_menu_item.haml",        "etype": "render_partial.action_view",        "eduration": 0.14522,        "estart": 1437835550.116528,        "efinish": 1437835550.116673      },      {        "virtual_path": "stats/_submenu",        "etype": "!render_template.action_view",        "eduration": 30.253447,        "estart": 1437835550.086583,        "efinish": 1437835550.116837      },      {        "identifier": "/home/dev/apps/coub/current/app/views/stats/_submenu.haml",        "etype": "render_partial.action_view",        "eduration": 30.283874,        "estart": 1437835550.086572,        "efinish": 1437835550.116856      },      {        "virtual_path": "stats/graphs",        "etype": "!render_template.action_view",        "eduration": 44.739706,        "estart": 1437835550.079496,        "efinish": 1437835550.124236      },      {        "identifier": "/home/dev/apps/coub/current/app/views/stats/graphs.haml",        "layout": "layouts/application",        "etype": "render_template.action_view",        "eduration": 44.796928,        "estart": 1437835550.079474,        "efinish": 1437835550.124271      },      {        "sql": "SELECT  \\"channels\\".* FROM \\"channels\\"  WHERE \\"channels\\".\\"id\\" IS NULL LIMIT 1",        "name": "Channel Load",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.360967,        "estart": 1437835550.135067,        "efinish": 1437835550.135428      },      {        "sql": "SELECT  \\"channels\\".* FROM \\"channels\\"  WHERE \\"channels\\".\\"user_id\\" = 1 ORDER BY created_at ASC LIMIT 1",        "name": "Channel Load",        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.494673,        "estart": 1437835550.137131,        "efinish": 1437835550.137626      },      {        "virtual_path": "layouts/_app_head_javascripts",        "etype": "!render_template.action_view",        "eduration": 10.388285,        "estart": 1437835550.131316,        "efinish": 1437835550.141705      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_app_head_javascripts.haml",        "etype": "render_partial.action_view",        "eduration": 10.452499,        "estart": 1437835550.131305,        "efinish": 1437835550.141758      },      {        "virtual_path": "layouts/_statistics",        "etype": "!render_template.action_view",        "eduration": 1.294307,        "estart": 1437835550.143679,        "efinish": 1437835550.144974      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_statistics.html.erb",        "etype": "render_partial.action_view",        "eduration": 1.336184,        "estart": 1437835550.143668,        "efinish": 1437835550.145004      },      {        "virtual_path": "layouts/_honeybadger",        "etype": "!render_template.action_view",        "eduration": 1.577448,        "estart": 1437835550.14802,        "efinish": 1437835550.149597      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_honeybadger.haml",        "etype": "render_partial.action_view",        "eduration": 1.616446,        "estart": 1437835550.148011,        "efinish": 1437835550.149627      },      {        "key": "views/http://_header_logos_key/76fdfc956dc33d072a05d6da7592d49f",        "etype": "read_fragment.action_controller",        "eduration": 1.171573,        "estart": 1437835550.22197,        "efinish": 1437835550.223142      },      {        "virtual_path": "search/_form",        "etype": "!render_template.action_view",        "eduration": 2.446653,        "estart": 1437835550.224475,        "efinish": 1437835550.226921      },      {        "identifier": "/home/dev/apps/coub/current/app/views/search/_form.haml",        "etype": "render_partial.action_view",        "eduration": 2.491716,        "estart": 1437835550.224463,        "efinish": 1437835550.226954      },      {        "key": "views/header_navigation_true_true_en_240615/76fdfc956dc33d072a05d6da7592d49f",        "etype": "read_fragment.action_controller",        "eduration": 1.146431,        "estart": 1437835550.227478,        "efinish": 1437835550.228625      },      {        "sql": "SELECT COUNT(*) FROM \\"channels\\"  WHERE \\"channels\\".\\"user_id\\" = 1",        "name": null,        "connection_id": 72793420,        "binds": [                  ],        "connection_name": "read_slave",        "etype": "sql.active_record",        "eduration": 0.416631,        "estart": 1437835550.237667,        "efinish": 1437835550.238083      },      {        "virtual_path": "layouts/_notifications_handler",        "etype": "!render_template.action_view",        "eduration": 10.033483,        "estart": 1437835550.230349,        "efinish": 1437835550.240382      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_notifications_handler.haml",        "etype": "render_partial.action_view",        "eduration": 10.151071,        "estart": 1437835550.230336,        "efinish": 1437835550.240487      },      {        "key": "views/header_create_button_en/76fdfc956dc33d072a05d6da7592d49f",        "etype": "read_fragment.action_controller",        "eduration": 1.830236,        "estart": 1437835550.242777,        "efinish": 1437835550.244607      },      {        "virtual_path": "layouts/_header",        "etype": "!render_template.action_view",        "eduration": 94.545192,        "estart": 1437835550.15154,        "efinish": 1437835550.246085      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_header.haml",        "etype": "render_partial.action_view",        "eduration": 94.580619,        "estart": 1437835550.151531,        "efinish": 1437835550.246111      },      {        "key": "views/footer_navigation_in_full_true_mode_for_users/1-20150618140035_user_10/7802364ab07fb5644eced951754a3b25",        "etype": "read_fragment.action_controller",        "eduration": 1.244714,        "estart": 1437835550.253299,        "efinish": 1437835550.254543      },      {        "virtual_path": "layouts/_footer",        "etype": "!render_template.action_view",        "eduration": 6.684557,        "estart": 1437835550.248142,        "efinish": 1437835550.254826      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_footer.haml",        "etype": "render_partial.action_view",        "eduration": 6.725812,        "estart": 1437835550.248128,        "efinish": 1437835550.254854      },      {        "virtual_path": "shared/_js_breakpoints",        "etype": "!render_template.action_view",        "eduration": 1.464383,        "estart": 1437835550.257623,        "efinish": 1437835550.259087      },      {        "identifier": "/home/dev/apps/coub/current/app/views/shared/_js_breakpoints.haml",        "etype": "render_partial.action_view",        "eduration": 1.520462,        "estart": 1437835550.25761,        "efinish": 1437835550.259131      },      {        "key": "views/foot_js_150144041726544_key/95097b7bf49a3485f1382283af0c5e43",        "etype": "read_fragment.action_controller",        "eduration": 1.234189,        "estart": 1437835550.265608,        "efinish": 1437835550.266842      },      {        "key": "views/foot_session_stats_key/95097b7bf49a3485f1382283af0c5e43",        "etype": "read_fragment.action_controller",        "eduration": 1.108446,        "estart": 1437835550.267395,        "efinish": 1437835550.268504      },      {        "virtual_path": "layouts/_ab_test_params",        "etype": "!render_template.action_view",        "eduration": 2.946399,        "estart": 1437835550.269854,        "efinish": 1437835550.2728      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_ab_test_params.haml",        "etype": "render_partial.action_view",        "eduration": 3.002292,        "estart": 1437835550.269841,        "efinish": 1437835550.272844      },      {        "virtual_path": "layouts/_foot",        "etype": "!render_template.action_view",        "eduration": 12.39099,        "estart": 1437835550.260689,        "efinish": 1437835550.273081      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_foot.haml",        "etype": "render_partial.action_view",        "eduration": 12.425038,        "estart": 1437835550.260678,        "efinish": 1437835550.273103      },      {        "virtual_path": "layouts/_stats_events",        "etype": "!render_template.action_view",        "eduration": 0.654197,        "estart": 1437835550.274938,        "efinish": 1437835550.275592      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_stats_events.html.erb",        "etype": "render_partial.action_view",        "eduration": 0.690852,        "estart": 1437835550.274926,        "efinish": 1437835550.275617      },      {        "virtual_path": "layouts/_site_only_analytics",        "etype": "!render_template.action_view",        "eduration": 0.6172000000000001,        "estart": 1437835550.277014,        "efinish": 1437835550.277632      },      {        "identifier": "/home/dev/apps/coub/current/app/views/layouts/_site_only_analytics.html.erb",        "etype": "render_partial.action_view",        "eduration": 0.655003,        "estart": 1437835550.277003,        "efinish": 1437835550.277658      },      {        "virtual_path": "layouts/application",        "etype": "!render_template.action_view",        "eduration": 154.497184,        "estart": 1437835550.124411,        "efinish": 1437835550.278908      }    ]})
]
# %({"data":{"action":"index","controller":"Admin::ResourcesController","params":{"controller":"admin/resources","action":"index"},"method":"GET","url":"/admin/resources","records":[{"sql":"SELECT`vanity_tests`.*FROM`vanity_tests`WHERE`vanity_tests`.`experiment_id`='submit_button'LIMIT1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityTestLoad","connection_id":70299339469300,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.599,"estart":1439806950.709462,"efinish":1439806950.710061},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityTest","etype":"instantiation.active_record","eduration":0.107,"estart":1439806950.710599,"efinish":1439806950.710706},{"sql":"BEGIN","name":null,"connection_id":70299339469300,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.289,"estart":1439806950.710886,"efinish":1439806950.711175},{"sql":"COMMIT","name":null,"connection_id":70299339469300,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.44499999999999995,"estart":1439806950.7121549,"efinish":1439806950.7126},{"virtual_path":"shared/google/_analytics","identifier":"/path/to/project/app/views/shared/google/_analytics.html.erb","etype":"!render_template.action_view","eduration":20.268,"estart":1439806952.18545,"efinish":1439806952.205718},{"identifier":"/path/to/project/app/views/shared/google/_analytics.html.erb","etype":"render_partial.action_view","eduration":20.68,"estart":1439806952.185389,"efinish":1439806952.206069},{"virtual_path":"layouts/admin","identifier":"/path/to/project/app/views/layouts/admin.html.erb","etype":"!render_template.action_view","eduration":419.04400000000004,"estart":1439806951.793747,"efinish":1439806952.212791}],"time":"2015-08-17T13:22:32.215+03:00","start":1439806950.7065668,"end":1439806952.215418,"duration":1508.8509999999999,"gc_time":0.0,"event_name":"process_action.action_controller","meta":{"client_version":"0.0.6","rails_version":"4.2.1"}}}),
# %({"data":{"action":"index","controller":"HomePagesController","params":{"controller":"home_pages","action":"index"},"method":"GET","url":"/","records":[{"controller":"HomePagesController","action":"index","params":{"controller":"home_pages","action":"index"},"format":"html","method":"GET","path":"/","etype":"start_processing.action_controller","eduration":0.087,"estart":1445262185.456819,"efinish":1445262185.456906},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'bam_auto_accept_delay' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5339999999999999,"estart":1445262185.4621959,"efinish":1445262185.46273},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.13899999999999998,"estart":1445262185.463191,"efinish":1445262185.46333},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.25999999999999995,"estart":1445262185.46353,"efinish":1445262185.4637902},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.27399999999999997,"estart":1445262185.4646568,"efinish":1445262185.464931},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'bam_nav' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.47600000000000003,"estart":1445262185.466816,"efinish":1445262185.4672918},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.083,"estart":1445262185.467626,"efinish":1445262185.4677088},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.304,"estart":1445262185.467944,"efinish":1445262185.4682481},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.585,"estart":1445262185.469006,"efinish":1445262185.4695911},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'homepage_videos' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.517,"estart":1445262185.4714339,"efinish":1445262185.471951},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.073,"estart":1445262185.472357,"efinish":1445262185.47243},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.29100000000000004,"estart":1445262185.472556,"efinish":1445262185.472847},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.29500000000000004,"estart":1445262185.4735858,"efinish":1445262185.473881},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'mobile_bam_image_and_lead' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.47800000000000004,"estart":1445262185.4757361,"efinish":1445262185.476214},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.076,"estart":1445262185.476536,"efinish":1445262185.476612},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.28200000000000003,"estart":1445262185.476815,"efinish":1445262185.477097},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.287,"estart":1445262185.477777,"efinish":1445262185.478064},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'new_bam_image' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.532,"estart":1445262185.479829,"efinish":1445262185.480361},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.067,"estart":1445262185.4806259,"efinish":1445262185.480693},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.272,"estart":1445262185.480808,"efinish":1445262185.48108},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.285,"estart":1445262185.4817338,"efinish":1445262185.4820192},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'responsive_bam' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5109999999999999,"estart":1445262185.483797,"efinish":1445262185.484308},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.075,"estart":1445262185.484729,"efinish":1445262185.4848042},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.28600000000000003,"estart":1445262185.484938,"efinish":1445262185.485224},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.298,"estart":1445262185.485953,"efinish":1445262185.486251},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'responsive_bam_mobile' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5289999999999999,"estart":1445262185.4880252,"efinish":1445262185.488554},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.175,"estart":1445262185.488875,"efinish":1445262185.4890501},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.301,"estart":1445262185.489346,"efinish":1445262185.4896472},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.431,"estart":1445262185.49044,"efinish":1445262185.490871},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'responsive_bam_mobile_to_application_completed' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.569,"estart":1445262185.494196,"efinish":1445262185.494765},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.076,"estart":1445262185.49506,"efinish":1445262185.495136},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.318,"estart":1445262185.495374,"efinish":1445262185.495692},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.32899999999999996,"estart":1445262185.4965498,"efinish":1445262185.496879},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'responsive_bam_mobile_to_kit_purchase' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.549,"estart":1445262185.498722,"efinish":1445262185.499271},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.083,"estart":1445262185.499707,"efinish":1445262185.4997902},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.283,"estart":1445262185.499937,"efinish":1445262185.5002198},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.40700000000000003,"estart":1445262185.500915,"efinish":1445262185.501322},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'responsive_bam_to_application_completed' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5509999999999999,"estart":1445262185.506321,"efinish":1445262185.5068722},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.06899999999999999,"estart":1445262185.507166,"efinish":1445262185.507235},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.277,"estart":1445262185.5075011,"efinish":1445262185.507778},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.296,"estart":1445262185.508419,"efinish":1445262185.508715},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'responsive_bam_to_kit_purchase' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.512,"estart":1445262185.510717,"efinish":1445262185.511229},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.097,"estart":1445262185.511598,"efinish":1445262185.5116951},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.27399999999999997,"estart":1445262185.511997,"efinish":1445262185.5122712},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.263,"estart":1445262185.513036,"efinish":1445262185.513299},{"sql":"SELECT  `vanity_experiments`.* FROM `vanity_experiments` WHERE `vanity_experiments`.`experiment_id` = 'select_kit' LIMIT 1","name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.449,"estart":1445262185.514972,"efinish":1445262185.515421},{"record_count":1,"class_name":"Vanity::Adapters::ActiveRecordAdapter::VanityExperiment","etype":"instantiation.active_record","eduration":0.07100000000000001,"estart":1445262185.515723,"efinish":1445262185.515794},{"sql":"BEGIN","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.264,"estart":1445262185.515965,"efinish":1445262185.5162292},{"sql":"COMMIT","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.23800000000000002,"estart":1445262185.516958,"efinish":1445262185.517196},{"key":"app_configuration/default_locale","hit":false,"etype":"cache_read.active_support","eduration":5.654,"estart":1445262185.518433,"efinish":1445262185.524087},{"sql":"SELECT  `preferences`.* FROM `preferences` WHERE `preferences`.`key` = 'app_configuration/default_locale' LIMIT 1","name":"Preference Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.453,"estart":1445262185.524374,"efinish":1445262185.5248268},{"record_count":0,"class_name":"Preference","etype":"instantiation.active_record","eduration":0.01,"estart":1445262185.5251799,"efinish":1445262185.5251899},{"key":"app_configuration/default_locale","etype":"cache_write.active_support","eduration":1.287,"estart":1445262185.525276,"efinish":1445262185.5265632},{"key":"feature_configuration/force_all_merchandisers_tc/1","hit":false,"etype":"cache_read.active_support","eduration":2.489,"estart":1445262185.527599,"efinish":1445262185.530088},{"sql":"SELECT  `preferences`.* FROM `preferences` WHERE `preferences`.`key` = 'feature_configuration/force_all_merchandisers_tc/1' LIMIT 1","name":"Preference Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.721,"estart":1445262185.5307178,"efinish":1445262185.531439},{"record_count":1,"class_name":"Preference","etype":"instantiation.active_record","eduration":0.175,"estart":1445262185.531827,"efinish":1445262185.532002},{"key":"feature_configuration/force_all_merchandisers_tc/1","etype":"cache_write.active_support","eduration":1.36,"estart":1445262185.532228,"efinish":1445262185.533588},{"sql":"SELECT  `home_pages`.* FROM `home_pages` WHERE `home_pages`.`active` = 1 AND (go_live_at \u003c= '2015-10-19 13:43:05.534766')  ORDER BY go_live_at DESC LIMIT 1","name":"HomePage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.896,"estart":1445262185.536128,"efinish":1445262185.537024},{"record_count":1,"class_name":"HomePage","etype":"instantiation.active_record","eduration":0.202,"estart":1445262185.537566,"efinish":1445262185.537768},{"sql":"SELECT `home_page_merchandiser_modules`.* FROM `home_page_merchandiser_modules` WHERE `home_page_merchandiser_modules`.`home_page_id` = 1","name":"HomePage::MerchandiserModule Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.737,"estart":1445262185.5395892,"efinish":1445262185.5403259},{"record_count":3,"class_name":"HomePage::MerchandiserModule","etype":"instantiation.active_record","eduration":0.212,"estart":1445262185.540761,"efinish":1445262185.540973},{"sql":"SELECT  `users`.* FROM `users` WHERE (`users`.`deleted_at` IS NULL) AND `users`.`id` = 3 LIMIT 1","name":"User Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5199999999999999,"estart":1445262185.545107,"efinish":1445262185.5456269},{"record_count":1,"class_name":"User","etype":"instantiation.active_record","eduration":0.213,"estart":1445262185.5461829,"efinish":1445262185.546396},{"sql":"SELECT  `boutiques`.* FROM `boutiques` WHERE `boutiques`.`user_id` = 3 LIMIT 1","name":"Boutique Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.451,"estart":1445262185.547482,"efinish":1445262185.5479329},{"record_count":1,"class_name":"Boutique","etype":"instantiation.active_record","eduration":0.129,"estart":1445262185.548352,"efinish":1445262185.548481},{"sql":"SELECT  `contents`.* FROM `contents` INNER JOIN `boutique_contents` ON `contents`.`id` = `boutique_contents`.`content_id` WHERE (`contents`.`deleted_at` IS NULL) AND `boutique_contents`.`boutique_id` = 3 AND (contents.visible = 1)  ORDER BY channel, position ASC LIMIT 3","name":"Content Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.859,"estart":1445262185.552638,"efinish":1445262185.553497},{"record_count":0,"class_name":"Content","etype":"instantiation.active_record","eduration":0.027,"estart":1445262185.5539079,"efinish":1445262185.553935},{"sql":"SELECT  `users`.* FROM `users` WHERE (`users`.`deleted_at` IS NULL) AND `users`.`id` = 3 LIMIT 1","binds":[[{"strict":true,"collation":null,"extra":"auto_increment","name":"id","cast_type":{"precision":null,"scale":null,"limit":4,"range":"-2147483648...2147483648"},"sql_type":"int(11)","null":false,"default":null,"default_function":null},3]],"name":"CACHE","connection_id":70239674715380,"etype":"sql.active_record","eduration":0.14400000000000002,"estart":1445262185.555518,"efinish":1445262185.5556622},{"record_count":1,"class_name":"User","etype":"instantiation.active_record","eduration":2.6310000000000002,"estart":1445262185.555758,"efinish":1445262185.558389},{"sql":"SELECT  `boutiques`.* FROM `boutiques` WHERE `boutiques`.`user_id` = 3 LIMIT 1","binds":[[{"strict":true,"collation":null,"extra":"","name":"user_id","cast_type":{"precision":null,"scale":null,"limit":4,"range":"-2147483648...2147483648"},"sql_type":"int(11)","null":true,"default":null,"default_function":null},3]],"name":"CACHE","connection_id":70239674715380,"etype":"sql.active_record","eduration":0.127,"estart":1445262185.559581,"efinish":1445262185.5597079},{"record_count":1,"class_name":"Boutique","etype":"instantiation.active_record","eduration":0.154,"estart":1445262185.5597749,"efinish":1445262185.5599291},{"sql":"SELECT  `contents`.* FROM `contents` INNER JOIN `boutique_contents` ON `contents`.`id` = `boutique_contents`.`content_id` WHERE (`contents`.`deleted_at` IS NULL) AND `boutique_contents`.`boutique_id` = 3 AND (contents.visible = 1)  ORDER BY channel, position ASC LIMIT 3","binds":[[{"strict":true,"collation":null,"extra":"","name":"boutique_id","cast_type":{"precision":null,"scale":null,"limit":4,"range":"-2147483648...2147483648"},"sql_type":"int(11)","null":true,"default":null,"default_function":null},3]],"name":"CACHE","connection_id":70239674715380,"etype":"sql.active_record","eduration":0.11900000000000001,"estart":1445262185.562266,"efinish":1445262185.5623848},{"record_count":0,"class_name":"Content","etype":"instantiation.active_record","eduration":0.011,"estart":1445262185.562436,"efinish":1445262185.562447},{"sql":"SELECT  `users`.* FROM `users` WHERE (`users`.`deleted_at` IS NULL) AND `users`.`id` = 3 LIMIT 1","binds":[[{"strict":true,"collation":null,"extra":"auto_increment","name":"id","cast_type":{"precision":null,"scale":null,"limit":4,"range":"-2147483648...2147483648"},"sql_type":"int(11)","null":false,"default":null,"default_function":null},3]],"name":"CACHE","connection_id":70239674715380,"etype":"sql.active_record","eduration":0.118,"estart":1445262185.563923,"efinish":1445262185.564041},{"record_count":1,"class_name":"User","etype":"instantiation.active_record","eduration":0.159,"estart":1445262185.564112,"efinish":1445262185.5642712},{"sql":"SELECT  `boutiques`.* FROM `boutiques` WHERE `boutiques`.`user_id` = 3 LIMIT 1","binds":[[{"strict":true,"collation":null,"extra":"","name":"user_id","cast_type":{"precision":null,"scale":null,"limit":4,"range":"-2147483648...2147483648"},"sql_type":"int(11)","null":true,"default":null,"default_function":null},3]],"name":"CACHE","connection_id":70239674715380,"etype":"sql.active_record","eduration":1.426,"estart":1445262185.565938,"efinish":1445262185.567364},{"record_count":1,"class_name":"Boutique","etype":"instantiation.active_record","eduration":0.373,"estart":1445262185.567501,"efinish":1445262185.567874},{"sql":"SELECT  `contents`.* FROM `contents` INNER JOIN `boutique_contents` ON `contents`.`id` = `boutique_contents`.`content_id` WHERE (`contents`.`deleted_at` IS NULL) AND `boutique_contents`.`boutique_id` = 3 AND (contents.visible = 1)  ORDER BY channel, position ASC LIMIT 3","binds":[[{"strict":true,"collation":null,"extra":"","name":"boutique_id","cast_type":{"precision":null,"scale":null,"limit":4,"range":"-2147483648...2147483648"},"sql_type":"int(11)","null":true,"default":null,"default_function":null},3]],"name":"CACHE","connection_id":70239674715380,"etype":"sql.active_record","eduration":0.6769999999999999,"estart":1445262185.576129,"efinish":1445262185.5768058},{"record_count":0,"class_name":"Content","etype":"instantiation.active_record","eduration":0.02,"estart":1445262185.57691,"efinish":1445262185.57693},{"sql":"SELECT `contents`.* FROM `contents` WHERE (`contents`.`deleted_at` IS NULL) AND `contents`.`visible_on_homepage` = 1","name":"Content Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.874,"estart":1445262185.578203,"efinish":1445262185.579077},{"record_count":0,"class_name":"Content","etype":"instantiation.active_record","eduration":0.019,"estart":1445262185.579425,"efinish":1445262185.579444},{"key":"feature_configuration/show_communication_modal/1","hit":false,"etype":"cache_read.active_support","eduration":2.115,"estart":1445262185.5801558,"efinish":1445262185.5822709},{"sql":"SELECT  `preferences`.* FROM `preferences` WHERE `preferences`.`key` = 'feature_configuration/show_communication_modal/1' LIMIT 1","name":"Preference Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.527,"estart":1445262185.582552,"efinish":1445262185.5830789},{"record_count":1,"class_name":"Preference","etype":"instantiation.active_record","eduration":0.13899999999999998,"estart":1445262185.583637,"efinish":1445262185.583776},{"key":"feature_configuration/show_communication_modal/1","etype":"cache_write.active_support","eduration":1.9849999999999999,"estart":1445262185.583976,"efinish":1445262185.5859609},{"sql":"SELECT  `assets`.* FROM `assets` WHERE (`assets`.`deleted_at` IS NULL) AND `assets`.`type` IN ('HomePage::RectangularModuleImage') AND `assets`.`viewable_id` = 1 AND `assets`.`viewable_type` = 'HomePage' LIMIT 1","name":"HomePage::RectangularModuleImage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.661,"estart":1445262185.6325738,"efinish":1445262185.633235},{"record_count":1,"class_name":"HomePage::RectangularModuleImage","etype":"instantiation.active_record","eduration":0.19,"estart":1445262185.6336699,"efinish":1445262185.63386},{"sql":"SELECT  `assets`.* FROM `assets` WHERE (`assets`.`deleted_at` IS NULL) AND `assets`.`type` IN ('HomePage::SquareModuleImage') AND `assets`.`viewable_id` = 1 AND `assets`.`viewable_type` = 'HomePage' LIMIT 1","name":"HomePage::SquareModuleImage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5670000000000001,"estart":1445262185.637097,"efinish":1445262185.637664},{"record_count":1,"class_name":"HomePage::SquareModuleImage","etype":"instantiation.active_record","eduration":0.153,"estart":1445262185.637989,"efinish":1445262185.6381419},{"sql":"SELECT  `assets`.* FROM `assets` WHERE (`assets`.`deleted_at` IS NULL) AND `assets`.`type` IN ('HomePage::MobileOnlyModuleImage') AND `assets`.`viewable_id` = 1 AND `assets`.`viewable_type` = 'HomePage' LIMIT 1","name":"HomePage::MobileOnlyModuleImage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5479999999999999,"estart":1445262185.641054,"efinish":1445262185.641602},{"record_count":1,"class_name":"HomePage::MobileOnlyModuleImage","etype":"instantiation.active_record","eduration":0.135,"estart":1445262185.641952,"efinish":1445262185.642087},{"sql":"SELECT `home_page_who_we_are_modules`.* FROM `home_page_who_we_are_modules` WHERE `home_page_who_we_are_modules`.`home_page_id` = 1","name":"HomePage::WhoWeAreModule Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.6719999999999999,"estart":1445262185.644337,"efinish":1445262185.6450088},{"record_count":3,"class_name":"HomePage::WhoWeAreModule","etype":"instantiation.active_record","eduration":0.128,"estart":1445262185.6453,"efinish":1445262185.645428},{"sql":"SELECT  `assets`.* FROM `assets` WHERE (`assets`.`deleted_at` IS NULL) AND `assets`.`type` IN ('HomePage::WhoWeAreModuleImage') AND `assets`.`viewable_id` = 1 AND `assets`.`viewable_type` = 'HomePage::WhoWeAreModule' LIMIT 1","name":"HomePage::WhoWeAreModuleImage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.5910000000000001,"estart":1445262185.646943,"efinish":1445262185.6475341},{"record_count":1,"class_name":"HomePage::WhoWeAreModuleImage","etype":"instantiation.active_record","eduration":0.13999999999999999,"estart":1445262185.6479628,"efinish":1445262185.648103},{"sql":"SELECT  `assets`.* FROM `assets` WHERE (`assets`.`deleted_at` IS NULL) AND `assets`.`type` IN ('HomePage::WhoWeAreModuleImage') AND `assets`.`viewable_id` = 2 AND `assets`.`viewable_type` = 'HomePage::WhoWeAreModule' LIMIT 1","name":"HomePage::WhoWeAreModuleImage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.6449999999999999,"estart":1445262185.650559,"efinish":1445262185.651204},{"record_count":1,"class_name":"HomePage::WhoWeAreModuleImage","etype":"instantiation.active_record","eduration":0.091,"estart":1445262185.651503,"efinish":1445262185.651594},{"sql":"SELECT  `assets`.* FROM `assets` WHERE (`assets`.`deleted_at` IS NULL) AND `assets`.`type` IN ('HomePage::WhoWeAreModuleImage') AND `assets`.`viewable_id` = 3 AND `assets`.`viewable_type` = 'HomePage::WhoWeAreModule' LIMIT 1","name":"HomePage::WhoWeAreModuleImage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.6629999999999999,"estart":1445262185.655285,"efinish":1445262185.655948},{"record_count":1,"class_name":"HomePage::WhoWeAreModuleImage","etype":"instantiation.active_record","eduration":0.092,"estart":1445262185.656307,"efinish":1445262185.656399},{"sql":"SELECT  `assets`.* FROM `assets` WHERE (`assets`.`deleted_at` IS NULL) AND `assets`.`type` IN ('HomePage::QuoteImage') AND `assets`.`viewable_id` = 1 AND `assets`.`viewable_type` = 'HomePage' LIMIT 1","name":"HomePage::QuoteImage Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.524,"estart":1445262185.6590762,"efinish":1445262185.6595998},{"record_count":1,"class_name":"HomePage::QuoteImage","etype":"instantiation.active_record","eduration":0.12999999999999998,"estart":1445262185.659897,"efinish":1445262185.6600268},{"virtual_path":"pages/home","identifier":"/Users/kgorin/projects/Candi/app/views/pages/home.html.haml","etype":"!render_template.action_view","eduration":45.285,"estart":1445262185.61681,"efinish":1445262185.662095},{"identifier":"/Users/kgorin/projects/Candi/app/views/pages/home.html.haml","layout":"layouts/application","etype":"render_template.action_view","eduration":45.951,"estart":1445262185.616321,"efinish":1445262185.662272},{"virtual_path":"layouts/_head","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_head.html.haml","etype":"!render_template.action_view","eduration":30.176000000000002,"estart":1445262185.664723,"efinish":1445262185.6948988},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_head.html.haml","etype":"render_partial.action_view","eduration":30.419,"estart":1445262185.664671,"efinish":1445262185.6950898},{"virtual_path":"shared/google/_tag_manager","identifier":"/Users/kgorin/projects/Candi/app/views/shared/google/_tag_manager.html.erb","etype":"!render_template.action_view","eduration":0.091,"estart":1445262185.698535,"efinish":1445262185.698626},{"identifier":"/Users/kgorin/projects/Candi/app/views/shared/google/_tag_manager.html.erb","etype":"render_partial.action_view","eduration":0.307,"estart":1445262185.698476,"efinish":1445262185.698783},{"virtual_path":"layouts/_unsupported_browser","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_unsupported_browser.haml","etype":"!render_template.action_view","eduration":1.391,"estart":1445262185.701544,"efinish":1445262185.702935},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_unsupported_browser.haml","etype":"render_partial.action_view","eduration":1.661,"estart":1445262185.701453,"efinish":1445262185.703114},{"virtual_path":"layouts/_merch_link","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_merch_link.haml","etype":"!render_template.action_view","eduration":0.307,"estart":1445262185.706059,"efinish":1445262185.706366},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_merch_link.haml","etype":"render_partial.action_view","eduration":0.6489999999999999,"estart":1445262185.705964,"efinish":1445262185.706613},{"key":"feature_configuration/sitewide_blurbs/1","hit":false,"etype":"cache_read.active_support","eduration":1.957,"estart":1445262185.7103848,"efinish":1445262185.712342},{"sql":"SELECT  `preferences`.* FROM `preferences` WHERE `preferences`.`key` = 'feature_configuration/sitewide_blurbs/1' LIMIT 1","name":"Preference Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.623,"estart":1445262185.712634,"efinish":1445262185.713257},{"record_count":1,"class_name":"Preference","etype":"instantiation.active_record","eduration":0.1,"estart":1445262185.713562,"efinish":1445262185.713662},{"key":"feature_configuration/sitewide_blurbs/1","etype":"cache_write.active_support","eduration":1.598,"estart":1445262185.713793,"efinish":1445262185.715391},{"sql":"SELECT  `preferences`.* FROM `preferences` WHERE `preferences`.`key` = 'feature_configuration/sitewide_blurbs/1' LIMIT 1","binds":[[{"strict":true,"collation":"utf8_unicode_ci","extra":"","name":"key","cast_type":{"precision":null,"scale":null,"limit":255},"sql_type":"varchar(255)","null":true,"default":null,"default_function":null},"feature_configuration/sitewide_blurbs/1"]],"name":"CACHE","connection_id":70239674715380,"etype":"sql.active_record","eduration":0.145,"estart":1445262185.718302,"efinish":1445262185.7184472},{"record_count":1,"class_name":"Preference","etype":"instantiation.active_record","eduration":0.060000000000000005,"estart":1445262185.7184918,"efinish":1445262185.718552},{"key":"feature_configuration/sitewide_blurbs/1","etype":"cache_write.active_support","eduration":1.938,"estart":1445262185.718959,"efinish":1445262185.720897},{"sql":"SELECT `blurbs`.* FROM ((SELECT  `blurbs`.* FROM `blurbs` WHERE (`blurbs`.`text_position` = 'position_top' AND `blurbs`.`starts_at` \u003c= '2015-10-19 13:43:05' AND (`blurbs`.`ends_at` \u003e= '2015-10-19 13:43:05' OR `blurbs`.`ends_at` IS NULL))  ORDER BY `blurbs`.`priority` DESC, `blurbs`.`starts_at` DESC, `blurbs`.`id` ASC LIMIT 1) UNION (SELECT  `blurbs`.* FROM `blurbs` WHERE (`blurbs`.`text_position` = 'position_left' AND `blurbs`.`starts_at` \u003c= '2015-10-19 13:43:05' AND (`blurbs`.`ends_at` \u003e= '2015-10-19 13:43:05' OR `blurbs`.`ends_at` IS NULL))  ORDER BY `blurbs`.`priority` DESC, `blurbs`.`starts_at` DESC, `blurbs`.`id` ASC LIMIT 1) UNION (SELECT  `blurbs`.* FROM `blurbs` WHERE (`blurbs`.`text_position` = 'position_right' AND `blurbs`.`starts_at` \u003c= '2015-10-19 13:43:05' AND (`blurbs`.`ends_at` \u003e= '2015-10-19 13:43:05' OR `blurbs`.`ends_at` IS NULL))  ORDER BY `blurbs`.`priority` DESC, `blurbs`.`starts_at` DESC, `blurbs`.`id` ASC LIMIT 1) UNION (SELECT  `blurbs`.* FROM `blurbs` WHERE (`blurbs`.`text_position` = 'desktop_banner' AND `blurbs`.`starts_at` \u003c= '2015-10-19 13:43:05' AND (`blurbs`.`ends_at` \u003e= '2015-10-19 13:43:05' OR `blurbs`.`ends_at` IS NULL))  ORDER BY `blurbs`.`priority` DESC, `blurbs`.`starts_at` DESC, `blurbs`.`id` ASC LIMIT 1) UNION (SELECT  `blurbs`.* FROM `blurbs` WHERE (`blurbs`.`text_position` = 'mobile_banner' AND `blurbs`.`starts_at` \u003c= '2015-10-19 13:43:05' AND (`blurbs`.`ends_at` \u003e= '2015-10-19 13:43:05' OR `blurbs`.`ends_at` IS NULL))  ORDER BY `blurbs`.`priority` DESC, `blurbs`.`starts_at` DESC, `blurbs`.`id` ASC LIMIT 1)) blurbs","name":"Blurb Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":9.547,"estart":1445262185.723094,"efinish":1445262185.732641},{"record_count":2,"class_name":"Blurb","etype":"instantiation.active_record","eduration":0.299,"estart":1445262185.733088,"efinish":1445262185.733387},{"virtual_path":"layouts/header/_top_blurb","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/header/_top_blurb.html.haml","etype":"!render_template.action_view","eduration":15.709000000000001,"estart":1445262185.7178812,"efinish":1445262185.7335901},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/header/_top_blurb.html.haml","etype":"render_partial.action_view","eduration":16.003,"estart":1445262185.717823,"efinish":1445262185.7338262},{"virtual_path":"layouts/_header","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_header.haml","etype":"!render_template.action_view","eduration":24.593,"estart":1445262185.709495,"efinish":1445262185.734088},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_header.haml","etype":"render_partial.action_view","eduration":24.853,"estart":1445262185.7094421,"efinish":1445262185.7342951},{"virtual_path":"online_office/_merchandise_manager_questionnaire","identifier":"/Users/kgorin/projects/Candi/app/views/online_office/_merchandise_manager_questionnaire.html.haml","etype":"!render_template.action_view","eduration":0.211,"estart":1445262185.737776,"efinish":1445262185.737987},{"identifier":"/Users/kgorin/projects/Candi/app/views/online_office/_merchandise_manager_questionnaire.html.haml","etype":"render_partial.action_view","eduration":0.607,"estart":1445262185.7377129,"efinish":1445262185.7383199},{"virtual_path":"shared/_modal_communication","identifier":"/Users/kgorin/projects/Candi/app/views/shared/_modal_communication.html.haml","etype":"!render_template.action_view","eduration":0.13999999999999999,"estart":1445262185.7504451,"efinish":1445262185.750585},{"identifier":"/Users/kgorin/projects/Candi/app/views/shared/_modal_communication.html.haml","etype":"render_partial.action_view","eduration":0.408,"estart":1445262185.75037,"efinish":1445262185.7507782},{"virtual_path":"layouts/_footer","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_footer.haml","etype":"!render_template.action_view","eduration":6.938,"estart":1445262185.7438989,"efinish":1445262185.750837},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_footer.haml","etype":"render_partial.action_view","eduration":7.122,"estart":1445262185.7438269,"efinish":1445262185.7509491},{"virtual_path":"shared/google/_analytics","identifier":"/Users/kgorin/projects/Candi/app/views/shared/google/_analytics.html.erb","etype":"!render_template.action_view","eduration":0.256,"estart":1445262185.756219,"efinish":1445262185.756475},{"identifier":"/Users/kgorin/projects/Candi/app/views/shared/google/_analytics.html.erb","etype":"render_partial.action_view","eduration":0.48500000000000004,"estart":1445262185.7561622,"efinish":1445262185.7566469},{"virtual_path":"shared/_performance_metrics","identifier":"/Users/kgorin/projects/Candi/app/views/shared/_performance_metrics.html.erb","etype":"!render_template.action_view","eduration":0.176,"estart":1445262185.767431,"efinish":1445262185.767607},{"identifier":"/Users/kgorin/projects/Candi/app/views/shared/_performance_metrics.html.erb","etype":"render_partial.action_view","eduration":0.8220000000000001,"estart":1445262185.767352,"efinish":1445262185.7681742},{"sql":"SELECT `states`.* FROM `states`  ORDER BY states.name","name":"State Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.9269999999999999,"estart":1445262185.769697,"efinish":1445262185.770624},{"record_count":51,"class_name":"State","etype":"instantiation.active_record","eduration":0.861,"estart":1445262185.771132,"efinish":1445262185.7719932},{"key":"feature_configuration/jive_community_link/1","hit":false,"etype":"cache_read.active_support","eduration":1.811,"estart":1445262185.773429,"efinish":1445262185.77524},{"sql":"SELECT  `preferences`.* FROM `preferences` WHERE `preferences`.`key` = 'feature_configuration/jive_community_link/1' LIMIT 1","name":"Preference Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.45199999999999996,"estart":1445262185.7755089,"efinish":1445262185.7759612},{"record_count":1,"class_name":"Preference","etype":"instantiation.active_record","eduration":0.095,"estart":1445262185.7762601,"efinish":1445262185.776355},{"key":"feature_configuration/jive_community_link/1","etype":"cache_write.active_support","eduration":1.444,"estart":1445262185.776468,"efinish":1445262185.7779121},{"virtual_path":"shared/_facebook_js","identifier":"/Users/kgorin/projects/Candi/app/views/shared/_facebook_js.html.erb","etype":"!render_template.action_view","eduration":0.097,"estart":1445262185.781625,"efinish":1445262185.781722},{"identifier":"/Users/kgorin/projects/Candi/app/views/shared/_facebook_js.html.erb","etype":"render_partial.action_view","eduration":0.325,"estart":1445262185.7815528,"efinish":1445262185.781878},{"virtual_path":"layouts/_end_of_body","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_end_of_body.haml","etype":"!render_template.action_view","eduration":28.45,"estart":1445262185.753647,"efinish":1445262185.7820969},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_end_of_body.haml","etype":"render_partial.action_view","eduration":28.632,"estart":1445262185.753589,"efinish":1445262185.782221},{"virtual_path":"layouts/_spec_performance","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_spec_performance.erb","etype":"!render_template.action_view","eduration":0.125,"estart":1445262185.785036,"efinish":1445262185.785161},{"identifier":"/Users/kgorin/projects/Candi/app/views/layouts/_spec_performance.erb","etype":"render_partial.action_view","eduration":0.9510000000000001,"estart":1445262185.784944,"efinish":1445262185.7858949},{"virtual_path":"layouts/application","identifier":"/Users/kgorin/projects/Candi/app/views/layouts/application.html.haml","etype":"!render_template.action_view","eduration":125.06400000000001,"estart":1445262185.6623502,"efinish":1445262185.787414},{"sql":"SELECT  `orders`.* FROM `orders` WHERE (`orders`.`deleted_at` IS NULL) AND `orders`.`id` IS NULL LIMIT 1","name":"Order Load","connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":1.3639999999999999,"estart":1445262185.790136,"efinish":1445262185.7915},{"record_count":0,"class_name":"Order","etype":"instantiation.active_record","eduration":0.024,"estart":1445262185.7919302,"efinish":1445262185.7919538},{"sql":"SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `browsers_users` WHERE (browser_id = 'e0474980e7798a4a46acb0b22f799402') LIMIT 1) subquery_for_count","name":null,"connection_id":70239674715380,"statement_name":null,"binds":[],"etype":"sql.active_record","eduration":0.541,"estart":1445262185.793236,"efinish":1445262185.793777},{"controller":"HomePagesController","action":"index","params":{"controller":"home_pages","action":"index"},"format":"html","method":"GET","path":"/","status":200,"view_runtime":187.01246200005772,"db_runtime":29.124,"elasticsearch_runtime":0,"candi":{"os":"Macintosh","browser_type":"Chrome","browser_version":"47","request_id":"95cc922f-6712-4d72-b0a5-228a394e567c","remote_ip":"127.0.0.1","http_referrer":"","user_agent_mobile":false,"process_id":46715,"order_number":"","is_kit_order":"","browser_id":"e0474980e7798a4a46acb0b22f799402","soft_user_type":"new_visitor","user_id":0,"user_type":"no_purch_no_merch","last_boutique":0,"ga_client_id":"","utm_campaign":"","utm_source":"","utm_medium":"","utm_term":"","utm_content":""},"etype":"process_action.action_controller","eduration":337.437,"estart":1445262185.4569511,"efinish":1445262185.794388}],"time":"2015-10-19T16:43:05.795+03:00","start":1445262185.4569511,"end":1445262185.794388,"duration":337.437,"gc_time":0.0,"event_name":"process_action.action_controller","meta":{"client_version":"0.0.6","rails_version":"4.2.1"}}})

compressors = [Lens::Compression::Gzip, Lens::Compression::Bson, Lens::Compression::BsonGzip, Lens::Compression::Protobuf, Lens::Compression::ProtobufGzip]

results = []
datasets.each do |data|
  results += compressors.map do |compressor|
    compressed = compressor.compress(data)
    [compressor.to_s, data.size, compressed.size, (100.0*compressed.size/data.size).round(1).to_s + "%" ,"#{data.to_s[0..60]}..."]
  end
end




puts TTY::Table.new header: ["Compressor", "Original", "Compressed", "Rate", "Data"], rows: results

